#:kivy 1.7.1

<Mindful>:
    orientation: 'vertical'
    padding: root.width * 0.02, root.height * 0.01
    canvas:
        Rectangle:
            source: 'images/background.jpg'
            pos: self.pos
            size: self.size
                

    AnchorLayout:
        anchor_x: 'center'
        anchor_y: 'top'
        ScreenManager:
            size_hint: 1, .9
            id: _screen_manager
            
            Screen:
                name: 'screen1'
                GridLayout:
                    cols:1
                    Label:
                        text: 'Mindful Sleep'
                        font_size: '45sp'
                        size_hint: 1, None
                        height: root.height * 0.4
                        width: root.width
                    
                    Label:                       
                        text: 'Wake up according to sleep cycles'
                        font_size: '20sp'
                        size_hint: 1, None
                        size: self.texture_size
                        color: [0.106,0.104,0.193,1]
                        
                    Label:                       
                        text: 'in order to have a restful sleep'
                        font_size: '20sp' 
                        size_hint: 1, None
                        size: self.texture_size    
                        color: [0.106,0.104,0.193,1]
                                                
                    BoxLayout:
                    
                        orientation: 'vertical'

                        Label:
                            text: app.current_time
                            font_size: '30sp'
                            width: self.width

                    BoxLayout:
                        orientation: 'horizontal'
                        padding: root.width * 0.05, root.height * 0.05


                        Button:
                            id: wake_up
                            text: 'When to wake up?'
                            on_press: _screen_manager.current = 'screen2'
                            pad:'20sp'
                            size_hint: 1, None

                            
                        Button:
                            id: go_bed
                            text: 'When to go to bed?'
                            on_press: _screen_manager.current = 'screen3'
                            size_hint: 1, None
                    
            Screen:
                name: 'screen2'
                GridLayout:
                    cols: 1
                    padding: root.width * 0.05, root.height * 0.05
                    
                    Label:
                        text: 'When to wake up?'
                        font_size: '45sp'
                        size_hint: 1, None
                        height: root.height * 0.2
                        color: 
                        
                    Label:
                        text: 'Input the # of cycles to sleep (90 min/cycle)'
                        font_size: '20sp'
                        size_hint: 1, None
                        height: root.height * 0.2
                        
                    TextInput:
                        id: cycle
                        hint_text: 'ex: 5'     
                                       
                    Button:
                        text: 'Wake up'
                        font_size: '20sp'
                        id: wakeUp
                        on_press: root.s_cycles()
                        height: root. height * 0.1

                    Label:
                        id: result1
                        font_size: '30sp'
                        
                    Button:
                        text: 'Return'
                        font_size: '20sp'
                        id: return
                        on_press: _screen_manager.current = 'screen1'
                        height: root. height * 0.1  
                        
            Screen:
                name: 'screen3'
                GridLayout:
                    cols: 1
                    padding: root.width * 0.05, root.height * 0.05
                    
                    Label:
                        text: 'When to go to bed?'
                        font_size: '45sp'
                        size_hint: 1, None
                        height: root.height * 0.2

                    Label:
                        text: 'Input the time you want to wake up'
                        font_size: '20sp'
                        size_hint: 1, None
                        height: root.height * 0.2
                        
                    TextInput:
                        id: waking_time
                        hint_text: 'HH:MM'   
                        
                    Button:
                        text: 'Go to bed'
                        font_size: '20sp'
                        id: go_bed
                        on_press: root.waking_times()
                        height: root. height * 0.1

                    Label:
                        id: result2
                        font_size: '30sp'
                        
                    Button:
                        text: 'Return'
                        font_size: '20sp'
                        id: return
                        on_press: _screen_manager.current = 'screen1'
                        height: root. height * 0.1                                                 
                        
